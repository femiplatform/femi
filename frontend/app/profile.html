<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>FEMI • โปรไฟล์</title>
  <link rel="stylesheet" href="../assets/app.css" />
</head>
<body>
  <div id="app">
    <main class="container">
      <h1 class="page-title">โปรไฟล์</h1>
      <p class="page-sub muted">ข้อมูลบัญชีผู้ใช้งาน</p>

      <div class="card" style="padding:14px">
        <div style="display:flex;gap:12px;align-items:center">
          <div style="width:54px;height:54px;border-radius:18px;background:rgba(185,28,28,.1);display:grid;place-items:center;font-weight:900;color:var(--brand)">F</div>
          <div>
            <div style="font-weight:900" id="name">-</div>
            <div class="muted" id="email">-</div>
          </div>
        </div>
        <hr style="border:0;border-top:1px solid var(--stroke);margin:14px 0"/>
        <div class="grid-2">
          <div>
            <div class="muted" style="font-size:12px">วันเกิด</div>
            <div id="birthDate">-</div>
          </div>
          <div>
            <div class="muted" style="font-size:12px">เบอร์โทร</div>
            <div id="phone">-</div>
          </div>
          <div>
            <div class="muted" style="font-size:12px">ส่วนสูง</div>
            <div id="height">-</div>
          </div>
          <div>
            <div class="muted" style="font-size:12px">น้ำหนัก</div>
            <div id="weight">-</div>
          </div>
        </div>
      </div>

      <div class="card" style="padding:14px;margin-top:12px">
        <div style="font-weight:800;margin-bottom:8px">การตั้งค่า</div>
        <a href="./notifications.html" class="btn btn-ghost" style="display:block;text-align:center">การแจ้งเตือน</a>
      </div>
    </main>
  </div>

  <script type="module">
    import { initUserShell } from "../js/shell.js";
    import { api } from "../js/api.js";

    await initUserShell({ active: "profile", title: "โปรไฟล์" });

    const me = await api.me();
    document.getElementById("name").textContent = `${me.firstName||""} ${me.lastName||""}`.trim() || "-";
    document.getElementById("email").textContent = me.email || "-";
    document.getElementById("birthDate").textContent = me.birthDate ? new Date(me.birthDate).toLocaleDateString("th-TH") : "-";
    document.getElementById("phone").textContent = me.phoneNumber || "-";
    document.getElementById("height").textContent = me.height ? `${me.height} ซม.` : "-";
    document.getElementById("weight").textContent = me.weight ? `${me.weight} กก.` : "-";
  </script>
</body>
</html>
