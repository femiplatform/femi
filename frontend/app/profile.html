<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>FEMI • Profile</title>
  <link rel="stylesheet" href="../assets/app.css"/>
</head>
<body>
<div id="app">
  <main class="container">
    <h1 data-i18n="page.profile">โปรไฟล์</h1>
    <p class="muted" data-i18n="profile.subtitle">ข้อมูลบัญชีของคุณ</p>

    <div class="card" style="padding:14px">
      <div class="row"><div class="k" data-i18n="profile.name">ชื่อ-สกุล</div><div class="v" id="name">-</div></div>
      <div class="row"><div class="k" data-i18n="profile.email">อีเมล</div><div class="v" id="email">-</div></div>
      <div class="row"><div class="k" data-i18n="profile.phone">เบอร์โทร</div><div class="v" id="phone">-</div></div>
      <div class="row"><div class="k" data-i18n="profile.birthDate">วันเกิด</div><div class="v" id="birth">-</div></div>
      <div class="muted" style="margin-top:10px" data-i18n="profile.editNote"></div>
    </div>
  </main>
</div>

<script type="module">
  import { initUserShell } from "../js/shell.js";
  import { t, applyI18n } from "../js/i18n.js";
  import { api } from "../js/api.js";

  await initUserShell({ active: "profile", title: t("page.profile") });
  applyI18n(document);

  const me = await api.me();
  document.getElementById("name").textContent = `${me.firstName||""} ${me.lastName||""}`.trim() || "-";
  document.getElementById("email").textContent = me.email || "-";
  document.getElementById("phone").textContent = me.phoneNumber || me.phone || "-";
  document.getElementById("birth").textContent = me.birthDate ? new Date(me.birthDate).toLocaleDateString("th-TH",{dateStyle:"long"}) : "-";
</script>

<style>
  .container{max-width:900px;margin:0 auto;padding:18px}
  .muted{opacity:.7}
  .card{background:#fff;border:1px solid rgba(0,0,0,.08);border-radius:16px}
  .row{display:flex;justify-content:space-between;gap:12px;padding:10px 0;border-bottom:1px solid rgba(0,0,0,.06)}
  .row:last-child{border-bottom:0}
  .k{font-weight:800}
  .v{opacity:.85;text-align:right}
</style>
</body>
</html>